<html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="bower/reset-css/reset.css">
	<link rel="stylesheet" href="bower/font-awesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="css/style.css">
	<script src="bower/jquery/dist/jquery.min.js"></script>
	<script src="js/jquery.tagcloud.js"></script>
	<!--[if lt IE 9]>
	<script type="text/javascript" src="js/excanvas.js"></script>
	<![endif]-->
	<script src="js/tagcanvas.min.js" type="text/javascript"></script>
	<script type="text/javascript">
	window.onload = function() {
		try {
			TagCanvas.Start('tagCanvas','tags',{
				activeCursor: 'pointer',
				textColour: '#337AB7',
				outlineColour: '#EEE',
				reverse: true,
				depth: 0.8,
				maxSpeed: 0.1,
				outlineIncrease: -5
			});
		} catch(e) {
			// something went wrong, hide the canvas container
			document.getElementById('tagCanvas').style.display = 'none';
		}
	};
	</script>
	<title>ChatPage</title>
</head>
<body onresize="resize(0)">
	<!-- start of navigation area -->
	<nav id="nav">
		<div id="nav-profile">
			<span class="profile-avatar"><a><img src="img/me_finn.png"></a></span>
			<a class="profile-status">這是我的簽名檔（狀態）</a>
		</div>
		<a id="new-connection">建立新連線</a>
		<ul id="menu">
			<li><a onclick="showPage(1);"><span><i class="fa fa-comment"></i>朋友列表</span></a></li>
			<li><a onclick="showPage(2);"><span><i class="fa fa-cog"></i>標籤設定</span></a></li>
			<li><a><span><i class="fa fa-sign-out"></i>登出</span></a></li>
		</ul>
		</nav>
	<!-- end of navigation area -->
	<!-- start of friend list area -->
	<div id="friend-area">
		<div id="friend-search">
			<div id="wrapper-input-search" class="wrapper-input">
				<input type="text" placeholder="搜尋朋友">
			</div>
		</div>
		<!-- stranger -->
		<div class="friend-unit friend-read">
			<div class="friend-avatar">
				<img src="img/friend_0.jpg">
			</div>
			<div class="friend-info">
				<p class="friend-info-name">陌生人</p>
				<p class="friend-info-status">最後的聊天內容</p>
			</div>
			<div style="clear: both;"></div>
		</div>
		<!-- message: selected -->
		<div class="friend-unit friend-selected">
			<div class="friend-avatar">
				<img src="img/friend_1.jpg">
			</div>
			<div class="friend-info">
				<p class="friend-info-name">Apple</p>
				<p class="friend-info-status">目前選取的朋友</p>
			</div>
			<div style="clear: both;"></div>
		</div>
		<!-- message: on-line, have read -->
		<div class="friend-unit friend-read">
			<div class="friend-avatar">
				<img src="img/friend_2.jpg">
			</div>
			<div class="friend-info">
				<p class="friend-info-name">Banana</p>
				<p class="friend-info-status">上線的朋友、所有訊息已讀</p>
			</div>
			<div style="clear: both;"></div>
		</div>
		<!-- message: on-line, something unread -->
		<div class="friend-unit friend-unread">
			<div class="friend-avatar">
				<img src="img/friend_3.jpg">
			</div>
			<div class="friend-info">
				<p class="friend-info-name">Cake</p>
				<p class="friend-info-status">上線的朋友、有訊息未讀</p>
			</div>
			<div style="clear: both;"></div>
		</div>
		<!-- message: off-line, have unread -->
		<div class="friend-unit friend-read off-line">
			<div class="friend-avatar">
				<img src="img/friend_4.jpg">
			</div>
			<div class="friend-info">
				<p class="friend-info-name">Donut</p>
				<p class="friend-info-status">離線的朋友、所有訊息已讀</p>
			</div>
			<div style="clear: both;"></div>
		</div>
		<div class="friend-unit friend-unread off-line">
			<div class="friend-avatar">
				<img src="img/friend_5.jpg">
			</div>
			<div class="friend-info">
				<p class="friend-info-name">Egg</p>
				<p class="friend-info-status">離線的朋友、有訊息未讀</p>
			</div>
			<div style="clear: both;"></div>
		</div>
	</div>
	<!-- end of friend list area -->

	<!-- start of message area -->
	<div id="message-area">
		<div id="message-header">
			Apple - <a id="message-header-sign"href="#">It's where my demons hide. </a>
		</div>
		<div id="message-content">
			<p><span class="message-system">已建立連線，開始聊天吧！<span></p>
			<p><span class="message-others">Apple：嗨<span></p>
			<p><span class="message-me">我：Hi</span></p>
		</div>
		<div id="message-panel">
			<div id="message-box">
				<div id="wrapper-message-box" class="wrapper-input">
					<input type="text" name="id" id="login-id" placeholder="請在這裡輸入訊息！">
				</div>
			</div>
			<div class="pull-left">
				<a id="button-bonbon" class="message-button" onclick="return false">Bonbon!</a>
				<a id="button-report" class="message-button" onclick="return false">離開</a>
			</div>
			<div class="pull-right">
				<a id="button-send-image" class="message-button" onclick="return false">傳送圖片</a>
				<a id="button-send-message" class="message-button" onclick="return false">傳送訊息</a>
			</div>
			<div style="clear: both;"></div>
		</div>
	</div>
	<!-- end of message area -->

	<!-- start of all-friend list -->
	<div id="all-friend-area">
		<div id="all-friend-header">朋友列表（5/50）</div>
		<div id="all-friend-content">
			<ul>
				<li><img src="img/friend_1.jpg"><span>Apple</span></li>
				<li><img src="img/friend_2.jpg"><span>Banana</span></li>
				<li><img src="img/friend_3.jpg"><span>Cake</span></li>
				<li><img src="img/friend_4.jpg"><span>Donut</span></li>
				<li><img src="img/friend_5.jpg"><span>Egg</span></li>
			</ul>
		</div>
	</div>
	<!-- end of all-friend list -->
	<!-- start of tag setting -->
	<div id="setting-tag-area">
		<div id="setting-tag-header">
			標籤設定
		</div>
		<div id="setting-tag-content">
			<div id="login-area">
					<span class="subtitle">熱門標籤</span>
					<div class="side-content">
						<div id="tag_cloud">
							<a href="/path" rel="7">peace</a>
							<a href="/path" rel="3">unity</a>
							<a href="/path" rel="10">love</a>
							<a href="/path" rel="5">having fun</a>
						</div>
						<canvas width="300" height="300" id="tagCanvas"></canvas>
						<div style="display: none;" id="tags">
	<ul>
		<li><a href="#">Array</a></li>
		<li><a href="#">Binomial Distribution</a></li>
		<li><a href="#">Correlation Coefficient</a></li>
	</ul>
</div>
					</div>
					<span class="subtitle" style="border-top: 1px solid #DDD;">新增標籤</span>
					<div class="side-content">
						新增
					</div>
				</div>
		</div>
	</div>
	<!-- end of all-friend list -->

	<script>
	/* pageID(0, 1, 2) = (chat page, friend list page , tag setting page) */
	var page_displaying = 0;
	var pageArray = ["message", "all-friend", "setting-tag"];

	resize();
	function resize(target) {
		var width = window.innerWidth;
		var height = window.innerHeight;
		if(page_displaying == 0) {
			document.getElementById("message-area").style.width = width - 521;
			document.getElementById("message-content").style.height = height - document.getElementById("message-header").offsetHeight - document.getElementById("message-panel").offsetHeight - 15;//15 for padding-top
		} else {
			if(target == 0) target = page_displaying;
			document.getElementById(pageArray[target] + "-area").style.width = width - 521;
			document.getElementById(pageArray[target] + "-content").style.height = height - document.getElementById(pageArray[target] + "-header").offsetHeight - 15;//15 for padding-top
		}
	}

	function showPage(pageID) {
		if(pageID != page_displaying) makeVisible(page_displaying, false);
		makeVisible(pageID, true);
		page_displaying = pageID;
		resize(page_displaying);
	}

	function makeVisible(target, show) {
		if(show) document.getElementById(pageArray[target] + "-area").style.display = "block";
		else document.getElementById(pageArray[target] + "-area").style.display = "none";
	}
	</script>
	<script>
	var t;
	function animate_bubble () {
		if(!$(".friend-unread img").is(":animated")) {
			$(".friend-unread img").animate({top:'-4px'},210).animate({top:0},150)
				.animate({top:'-2px'},150).animate({top:0},100)
				.animate({top:'-1px'},100).animate({top:0},50);
		}
		t = setTimeout("animate_bubble()", 2000);
	}
	animate_bubble();
	</script>
	<script>
	$.fn.tagcloud.defaults = {
		size: {start: 14, end: 64, unit: "pt"},
		color: {start: "#630", end: "#F96"}
	};

	$(function () {
		$("#tag_cloud a").tagcloud();
	});
	</script>
	<script src="js/chatSocket.js"></script>
</body>
</html>
<!--
function sendBonBon() {
	document.getElementById("button-bonbon").innerHTML = "已送出Bonbon";
	return false;
}
-->
